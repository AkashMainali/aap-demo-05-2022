---
# - name: Ensure requirements in place
#   dnf:
#     name: "{{ item }}"
#     state: present
#   with_items:
#       - guestfs-tools
#       - python3-libvirt

# - name: Get VMs list
#   community.libvirt.virt:
#     command: list_vms
#   register: existing_vms
#   changed_when: no

- name: Create a unique ID needed when the VMs are created
  shell: echo "`date +"%Y%m%d%H%M%S"`-$(cat /dev/urandom | tr -cd [:alpha:] | tr '[:upper:]' '[:lower:]' | head -c 4)"
  register: my_unique_id
  no_log: true